<!--keywords:音视频通话,美声,变声,音效均衡 -->

NERTC SDK 支持设置多种预设的美声与变声音效。玩家可以将音色调整成“大叔音”、“萝莉音”等形式，在语音聊天、游戏互动等场景中展现更加有趣和吸引人的声音形象。



## <span id="注意事项">注意事项</span>

- [`setAudioEffectPreset`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#af1d4e68e36c0e30d7bed6e5e00fc51d8) 方法和 [`setLocalVoicePitch`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#ab1ff742d724ab296826a3128b98c60d9) 互斥，调用了其中任一方法后，另一方法会被重置为默认值。
- 各人声效果相关接口在加入房间前后均可调用。退出房间后，各人声效果相关参数均恢复至默认值。

## <span id="预设人声效果">预设人声效果</span>

NERTC SDK 为您提供多种类型的预设人声效果，以满足您在不同场景下的美声与变声需求。

### **美声效果**

美声指声音的美化，即调整人声的音色，例如让声音更加低沉、圆润或清澈。另外，NERTC 的预设美声效果还可以实现场景空间环境的效果塑造，即营造场景化的空间氛围，使人声听起来像是处于特定的空间或场所。

调用 [`setVoiceBeautifierPreset`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#a81b7ea061c4b61a518689ab3bf83e17a) 方法可以使用 SDK 预设的美声效果。目前支持以下预设的美声效果：

<table> 
<tr> 
<th width=30%><b>枚举值</b></th> 
<th width=30%><b>描述</b></th> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierOff </td> 
<td>（默认）关闭美声效果。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierMuffled </td> 
<td>低沉。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierMellow </td> 
<td>圆润。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierClear </td> 
<td>清澈。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierMagnetic </td> 
<td>磁性。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierRecordingstudio </td> 
<td>录音棚。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierNature </td> 
<td>天籁。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierKTV </td> 
<td>KTV。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierRemote </td> 
<td>悠远。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierChurch </td> 
<td>教堂。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierBedroom </td> 
<td>卧室。</td> 
</tr> 
<tr> 
<td>kNERtcVoiceBeautifierLive </td> 
<td>Live。</td> 
</tr> 
</table>

预设美声效果的**示例代码**如下：

```
//以设置美声效果为预设的磁性为例
NERtcVoiceBeautifierType beautifier_type = kNERtcVoiceBeautifierMagnetic;
engine->setVoiceBeautifierPreset(beautifier_type);
```

### **变声效果**

变声指转变人声的特质，例如让声音听起来像机器人、萝莉或具有其它的搞怪效果。

调用 [`setAudioEffectPreset`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#af1d4e68e36c0e30d7bed6e5e00fc51d8) 方法可以使用 SDK 预设的变声效果。目前支持以下预设的变声效果：

<table>
    <tr>
        <th width=30%><b>枚举值</b></th>
        <th width=30%><b>描述</b></th>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerOff </td>
        <td>（默认）关闭变声音效。</td>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerRobot </td>
        <td>机器人。 </td>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerGaint  </td>
        <td>巨人。 </td>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerHorror  </td>
        <td>恐怖。</td>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerMature </td>
        <td>成熟。 </td>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerManToWoman  </td>
        <td>男变女。 </td>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerWomanToMan  </td>
        <td>女变男。</td>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerManToLoli </td>
        <td>男变萝莉。 </td>
    </tr>
    <tr>
        <td>kNERtcVoiceChangerWomanToLoli  </td>
        <td>女变萝莉。</td>
    </tr>
</table>

预设变声效果的**示例代码**如下：

```
//以设置变声效果为预设的男变女为例
NERtcVoiceChangerType voice_changer = kNERtcVoiceChangerManToWoman;
engine->setAudioEffectPreset(voice_changer);
```

### API 参考

| **方法** | **功能描述**|
|:--|:--|
|[`setVoiceBeautifierPreset`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#a81b7ea061c4b61a518689ab3bf83e17a)|设置预设的美声效果|
|[`setAudioEffectPreset`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#af1d4e68e36c0e30d7bed6e5e00fc51d8)|设置预设的变声效果|

## <span id="自定义人声效果">自定义人声效果</span>

如果以上美声与变声效果无法满足您的需求，您也可以通过音调、音效均衡和混响，实现自定义的人声效果。

### **设置音调**

调用 [`setLocalVoicePitch`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#ab1ff742d724ab296826a3128b98c60d9) 方法可以设置本地语音音调，例如将音调调高或者调低。调用此方法时，您需要通过设置 pitch 参数调整语音频率。该参数的取值范围为 0.5 ~ 2.0，取值越小表示音调越低；默认值为 1.0，表示不需要修改音调。

设置语音音调的**示例代码**如下：

```
//设置语音音调
double pitch = 1.5  /**< 在 [0.5, 2.0] 范围内设置*/
engine->setLocalVoicePitch(pitch);
```

### **设置音效均衡**

调用 [`setLocalVoiceEqualization`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#adf31aa3cfb4fa6cec57fbac46b47595d) 方法可以设置本地语音音效均衡，即自定义设置本地人声均衡波段的中心频率。调用此方法时，您需要设置 bandFrequency 和 bandGain 参数，相关参数的说明如下：

- bandFrequency：频谱子带索引。该参数的单位为赫兹（Hz），取值范围为 0 ~ 9，分别代表 10 个频带，对应的中心频率分别为 31、62、125、250、500、1k、2k、4k、8k 和 16k。
- bandGain：每个频带的增益。该参数的单位为分贝（dB），每个频带对应的增益取值范围为 -15 ~ 15，默认值为 0。

设置语音音效均衡的**示例代码**如下：

```
//设置本地语音音效均衡
engine->setLocalVoiceEqualization(kNERtcVoiceEqualizationBand_125, 6);
engine->setLocalVoiceEqualization(kNERtcVoiceEqualizationBand_250, 8);
engine->setLocalVoiceEqualization(kNERtcVoiceEqualizationBand_500, 6);
```


### API 参考

| **方法** | **功能描述**|
|:--|:--|
|[`setLocalVoicePitch`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#ab1ff742d724ab296826a3128b98c60d9)|设置本地语音音调|
|[`setLocalVoiceEqualization`](https://doc.yunxin.163.com/nertc/api-refer/UE/doxygen/Latest/zh/html/classnertc_1_1_i_rtc_engine_ex.html#adf31aa3cfb4fa6cec57fbac46b47595d)|设置本地语音音效均衡|




