
<!--和互动直播内容一致-->
NERTC SDK 支持设置音频编码属性设置，本文档为您介绍如何通过 setAudioProfile 方法的 profile 和 scenario 参数实现不同的音质效果。

## <span id="功能描述">功能描述</span>

在不同的场景中，用户对于音质、声道、噪声抑制等方面的要求各有不同，例如在音乐直播、在线 KTV 等场景中，需要设置适宜于音乐场景的采样率、码率、流畅度、噪声抑制等参数和能力。NERTC 支持多种音频属性档位设置，适用于不同场景的音质、声道需求，以便您根据实际场景方便快捷地调整音质属性、在常见场景中实现最优的音质效果。

NERTC SDK 通过[`setAudioProfile`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#setaudioprofile) 方法的 `profile` 参数提供多种音频 Profile 档位，您可以根据实际场景需求灵活调整音质属性。

## <span id="注意事项">注意事项</span>

- [`setAudioProfile`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#setaudioprofile) 方法在 [`localStream.init()`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#init) 或者 [`localStream.open()`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#open) 接口之前调用生效。
- 在 Chrome 浏览器中，如果有偶现的回声现象，建议使用 `music_standard` 或更高的音频档位配置，以实现更好的音质效果。

## 实现方法

### 设置音频模式

在 SDK 初始化之前，通过 [`setAudioProfile`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#setaudioprofile) 设置音频属性。

`profile` 参数代表不同的音频参数配置（音质），比如采样率、码率和编码模式，包括：

<style>
table th:first-of-type {
    width: 25%;
}
table th:nth-of-type(2) {
    width: 50%;
}
</style>


| 音频 profile 类型 | 描述 |
|---|---|
| speech_low_quality | 低音质模式。16 kHz 采样率，单声道，编码码率约 24 Kbps。 |
| speech_standard | 语音标准音质模式。32 kHz 采样率，单声道，编码码率约 24 Kbps。 |
| music_standard | 音乐标准音质模式。48 kHz 采样率，单声道，编码码率约 40 Kbps。 |
| standard_stereo | 标准立体声模式。48 kHz 采样率，双声道，编码码率约 64 Kbps。 |
| high_quality | 高音质模式。48 kHz 采样率，单声道， 编码码率约 128 Kbps。 |
| high_quality_stereo | 高音质立体声模式。48 kHz 采样率，双声道，编码码率约 192 Kbps。 |



## 典型场景的推荐配置

典型场景的音频参数推荐配置请参见[音视频参数配置推荐](https://doc.yunxin.163.com/nertc/guide/DAyODE3Mzc?platform=web)。

## <span id="示例代码">示例代码</span>

```js
let quality = 'speech_low_quality'
localStream.setAudioProfile(quality)
```

## <span id="API 参考">API 参考</span>


 **方法** | **功能描述** 
:--|:--
[`setAudioProfile`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#setaudioprofile) |设置音频场景与模式，必须在 init() 前或者open()前设置有效
[`setAudioVolume`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#setaudiovolume)|调节播放音量
[`open`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#open) | 打开音视频流输入设备，如麦克风
[`close`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#close) | 关闭音视频流输入设备，如麦克风
[`muteAudio`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#muteaudio) | 禁用音频轨道
[`unmuteAudio`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#unmuteaudio) | 启用音频轨道
[`getAudioLevel`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#getaudiolevel) | 获取当前麦克风采集音量
[`hasAudio`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/stream.stream-1.html#hasaudio) | 当前Stream是否有音频
[`publish`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/client.client-1.html#publish) | 发布音视频流
[`unpublish`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/client.client-1.html#unpublish) | 取消发布音视频流
[`subscribe`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/client.client-1.html#subscribe) | 接收远端音视频流
[`unsubscribe`](https://doc.yunxin.163.com/nertc/api-refer/web/typedoc/Latest/zh/html//interfaces/client.client-1.html#unsubscribe) | 取消接收远端音视频流