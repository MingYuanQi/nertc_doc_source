本文介绍了使用网易云信音视频通话 SDK 开发的 iOS 应用，如何添加隐私文件。

## 背景信息

苹果公司（Apple Inc.）于 2023 年 12 月 7 日发布了 [Privacy updates for App Store submissions](https://developer.apple.com/news/?id=r1henawx) 声明。因此，自 2024 年起，提交到 App Store 的应用，需要同时提供一份应用隐私清单文件 `PrivacyInfo.xcprivacy`。

在分发应用时，Xcode 会整合所有第三方 SDK 的隐私清单，形成一个简单易用的报告，全面概述 App 中的所有第三方 SDK，以便创建精确的隐私标签。因此，您使用的 SDK 和第三方库都需要包含 `PrivacyInfo.xcprivacy` 文件。

## 适配方式

### 场景一：新建项目

从 [V5.5.40](https://doc.yunxin.163.com/nertc/concept/TcyMzY0ODg?platform=client#v5540-2024-04-03) 开始，网易云信 iOS 版 **NERTC SDK** 将默认包含 `PrivacyInfo.xcprivacy` 文件。

- **自动集成**：当使用 CocoaPods 集成时，`PrivacyInfo.xcprivacy` 会被自动添加到项目，您无需额外操作。

- **手动集成**：当您手动集成 NERTC SDK 时，请同时将源代码目录下的 `PrivacyInfo.xcprivacy` 文件拷贝到您的工程内。

更多有关新建项目的详细步骤，请参考 [集成 iOS SDK](https://doc.yunxin.163.com/nertc/guide/TM5NzI5MjI?platform=iOS)。

### 场景二：已有 App

除了通过 CocoaPod 自动集成，您还可以直接将 NERTC SDK 的 `PrivacyInfo.xcprivacy` 内容添加到自身 App 的 `PrivacyInfo.xcprivacy` 文件中，具体实现方式如下：

- **通过源代码方式**：在 Xcode 项目中打开 `PrivacyInfo.xcprivacy` 文件，复制 NERTC SDK 中 `PrivacyInfo.xcprivacy` 中的条目，注意不要重复或错位。

- **通过 Property List 方式**：在 Xcode 中双击打开 `PrivacyInfo.xcprivacy` 文件，单击 **+** 后按照 Xcode 的提示添加和编辑必要的条款即可。

## 配置效果

NERTC SDK 的 `PrivacyInfo.xcprivacy` 配置效果如下：

<img alt="隐私.png" src="https://yx-web-nosdn.netease.im/common/916d734049a948d3f5ef97330ae0e5a9/隐私新.png" style="width:70%;border: 1px solid #BFBFBF;">

```XML
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>NSPrivacyTracking</key>
	<false/>
	<key>NSPrivacyCollectedDataTypes</key>
	<array/>
	<key>NSPrivacyTrackingDomains</key>
	<array/>
	<key>NSPrivacyAccessedAPITypes</key>
	<array>
        	<dict>
           		<key>NSPrivacyAccessedAPIType</key>
           	 	<string>NSPrivacyAccessedAPICategorySystemBootTime</string>
            		<key>NSPrivacyAccessedAPITypeReasons</key>
            		<array>
                		<string>35F9.1</string>
           		 </array>
       		</dict>
		<dict>
			<key>NSPrivacyAccessedAPIType</key>
			<string>NSPrivacyAccessedAPICategoryFileTimestamp</string>
			<key>NSPrivacyAccessedAPITypeReasons</key>
			<array>
				<string>C617.1</string>
			</array>
		</dict>
		<dict>
			<key>NSPrivacyAccessedAPIType</key>
			<string>NSPrivacyAccessedAPICategoryDiskSpace</string>
			<key>NSPrivacyAccessedAPITypeReasons</key>
			<array>
				<string>E174.1</string>
			</array>
		</dict>
		<dict>
			<key>NSPrivacyAccessedAPIType</key>
			<string>NSPrivacyAccessedAPICategoryUserDefaults</string>
			<key>NSPrivacyAccessedAPITypeReasons</key>
			<array>
				<string>CA92.1</string>
			</array>
		</dict>
	</array>
</dict>
</plist>
```

<!-- 为兼容苹果公司发布的[App Store 提交的隐私更新](https://developer.apple.com/news/?id=r1henawx)，自 2024 年起，提交到 App Store 的应用需要同时提供一份 App 的隐私清单文件。

在分发 App 时，Xcode 会整合所有第三方 SDK 的隐私清单，形成一个简单易用的报告，全面概述 App 中的所有第三方 SDK，以便创建精确的隐私标签。因此，SDK 和第三方库需要包含`PrivacyInfo.xcprivacy` 文件。

## NERtcSDK 适配方式
从 [v5.5.40](https://doc.yunxin.163.com/nertc/concept/TcyMzY0ODg?platform=client#v5540-2024-04-03) 版本开始，NERtcSDK 将默认包含`PrivacyInfo.xcprivacy`文件。

* 当使用CocoaPod集成，`PrivacyInfo.xcprivacy`会自动添加到项目，无需额外操作。

* 手动集成时，需将源代码目录下的`PrivacyInfo.xcprivacy`文件复制到您的工程内。 

除了CocoaPod自动集成，开发者还可以直接将 NERtcSDK 中的`PrivacyInfo.xcprivacy`内容添加到自己App的`PrivacyInfo.xcprivacy`文件中：

* 通过源代码方式，在Xcode项目中打开`PrivacyInfo.xcprivacy`文件，复制 NERtcSDK 中`PrivacyInfo.xcprivacy`中的条目，以防止重复或错位。

* 通过Property List方式，双击打开`PrivacyInfo.xcprivacy`文件，按照Xcode的提示添加和编辑必要的条款。


-->