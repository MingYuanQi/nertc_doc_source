在音频场景中，您可能需要根据实际的场地情况选择采用音频的采集和播放设备，例如在室内场景中选用听筒进行音频播放。NERTC SDK 支持自由切换音频设备。

## <span id="注意事项">注意事项</span>

耳机连接时，自动使用耳机播放。此时即使设置音频播放设备为扬声器或听筒，仍旧使用耳机播放，耳机断开连接时，恢复音频播放设备的配置。

## <span id="实现方法">实现方法</span>

参考如下步骤，在您的项目中切换音频路由：

1. 在加入房间成功后调用 [`isSpeakerphoneOn`](https://doc.yunxin.163.com/docs/interface/nertc/harmonyos/typedoc/Latest/zh/interfaces/NERtc.NERtc.html#isspeakerphoneon) 判断当前是听筒还是扬声器模式。
2. 调用 [`setSpeakerphoneOn`](https://doc.yunxin.163.com/docs/interface/nertc/harmonyos/typedoc/Latest/zh/interfaces/NERtc.NERtc.html#setspeakerphoneon) 接口进行切换。

    - true：扬声器。
    - false：听筒。

## 示例项目源码

网易云信提供 [设备管理的示例项目源码 DeviceManagement](https://github.com/netease-im/Basic-Video-Call/tree/master/Group-Video/NERtcSample-GroupVideoCall-Harmony-Typescript)，您可以参考该源码实现音频设备管理。

## <span id="示例代码">示例代码</span>

```typescript
//判断当前输出设备是否式扬声器
let isSpeakerphoneOn = NERtcSDK.getInstance().isSpeakerphoneOn()

//设置音频输出设备为扬声器
NERtcSDK.getInstance().setSpeakerphoneOn(isSpeakerphoneOn)
```

## <span id="API 参考">API 列表</span>

**方法** | **功能描述**
:-- | :--
[setPlayoutDeviceMute](https://doc.yunxin.163.com/docs/interface/nertc/harmonyos/typedoc/Latest/zh/interfaces/NERtc.NERtc.html) | 设置是否音频播放静音。
[setRecordDeviceMute](https://doc.yunxin.163.com/docs/interface/nertc/harmonyos/typedoc/Latest/zh/interfaces/NERtc.NERtc.html#setrecorddevicemute) | 设置是否音频采集静音。
[isSpeakerphoneOn](https://doc.yunxin.163.com/docs/interface/nertc/harmonyos/typedoc/Latest/zh/interfaces/NERtc.NERtc.html#isspeakerphoneon) | 查看扬声器是否开启。
[setSpeakerphoneOn](https://doc.yunxin.163.com/docs/interface/nertc/harmonyos/typedoc/Latest/zh/interfaces/NERtc.NERtc.html#setspeakerphoneon) | 设置扬声器是否开启。