
在音频场景中，您可能需要根据实际的场地情况选择采用音频的采集和播放设备，例如在室内场景中选用听筒进行音频播放。NERTC SDK 支持自由切换音频设备。

## <span id="注意事项">注意事项</span>

耳机连接时，自动使用耳机播放。此时即使设置音频播放设备为扬声器或听筒，仍旧使用耳机播放，耳机断开连接时，恢复音频播放设备的配置。

## <span id="实现方法">实现方法</span>

参考如下步骤，在您的项目中切换音频路由：

1. 调用 [`setSpeakerphoneOn`](https://doc.yunxin.163.com/nertc/api-refer/uniapp/typedoc/Latest/zh/html/modules/nertc.nertc-1.html#setspeakerphoneon) 接口进行切换。
    - true：扬声器。
    - false：听筒。
2. 通过监听 [`onAudioDeviceChanged`](https://doc.yunxin.163.com/nertc/api-refer/uniapp/typedoc/Latest/zh/html/interfaces/nertccallback.nertccallback-1.html#onaudiodevicechanged) 回调来监听音频路由切换事件。




## <span id="示例代码">示例代码</span>

```
    // 设置音频路由。
    this.engine.setSpeakerphoneOn(true)
    
    // 音频路由切换回调。
    this.engine.addEventListener("onAudioDeviceChanged", (selected) => {
        const message = `onAudioDeviceChanged通知：selected = ${selected}`
        console.log(message)
        switch (selected) {
            const audioDevice = ''
            case NERTCAudioDevice.SPEAKER_PHONE: 
                //值为0
                audioDevice = "扬声器";
                break;
            case NERTCAudioDevice.WIRED_HEADSET:
                //值为1
                audioDevice = "有线耳机";
                break;
            case NERTCAudioDevice.EARPIECE:
                //值为2
                audioDevice = "听筒";
                break;
            case NERTCAudioDevice.BLUETOOTH_HEADSET:
                //值为3
                audioDevice = "蓝牙耳机";
                break;
            default:
                audioDevice = "EARPIECE";
                break;
        }
    });

```

