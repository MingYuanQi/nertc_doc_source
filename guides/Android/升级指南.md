本文介绍 NERTC SDK V5.X 版本，Android 端升级的说明和注意事项。
## V5.5.10
从 V5.5.2 升级至 V5.5.10 版本，涉及如下接口变更，您需要结合实际业务场景更新相关的 App 代码：

**接口名称变更**

| 功能       | 原接口|新接口 |集成修改建议                                                           |
|----------------|--------------------------------------------------------------------|
| 设置空间音效的距离衰减属性和语音范围| `UpdateSpatializerAudioRecvRange` |[`setAudioRecvRange`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#ace30c6aedef4078715af558b45a3446b)     | 若您使用了**空间音效**功能，请修改代码中对应的接口名称。      
|设置空间音效中说话者和接收者的空间位置信息 |`UpdateSpatializerSelfPosition` |[`updateSelfPosition`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#a7b8caec0727c1baef411459bb6a4c89f) |^^
| 启用空间音效 |`EnableSpatializer`| [`enableSpatializer`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#a759e040aed186b87f2f64dc7ad294bd8)|^^
|设置房间混响属性 |`SetSpatializerRoomProperty` |[`setSpatializerRoomProperty`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#aa2f6bd290b8e18adbc048b6819cd192b)| ^^
|开启或关闭空间音效的房间混响效果| `EnableSpatializerRoomEffects` |[`EnableSpatializerRoomEffects`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#a757a10b76e43bd46345168b1066c36ba)|^^
|设置渲染模式|`SetSpatializerRenderMode`  |[`setSpatializerRenderMode`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#a84b7e8fcefb7d1de913d59fdc2c689e8) |^^
| 空间位置信息|`NERtcSpatializerPositionInfo` |[`NERtcPositionInfo`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1audio_1_1_n_e_rtc_position_info.html) | 若您使用了**空间音效**功能，请修改代码中对应的结构体名称。


**接口行为变更**
| 变更描述       | 集成修改建议                                                           |
|----------------|--------------------------------------------------------------------|
| 切换房间（`switchChannel`）。 在直播场景中，原先只支持观众切换房间，修改为主播和观众都支持切换房间，并且切换后会保持切换前的音视频的状态。  |  请检查房间切换前后的音视频状态是否符合预期。       |   
| `onFirstVideoFrameDecoded` 回调的触发时机修改，当重新调用 `enableLocalVideo` 开启本地视频采集，或停止屏幕共享后再重新调用 `startScreenCapture` 接口共享屏幕时，都会触发该回调。|不影响 |

## V5.3.1

从 V4.6.X 升级至 V5.3.1 版本，涉及如下接口变更，您需要结合实际业务场景更新相关的 App 代码：

**接口行为变更**

| 变更描述       | 集成修改建议                                                           |
|----------------|--------------------------------------------------------------------|
| 支持在不开麦的状态下默认开启伴音功能。   | 若您在 [`setParameters`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc.html#a7a9135f32ad0e10feb536944fd5a8ab2) 中设置了不开麦状态下开启伴音功能的开关(kNERtcKeyAudioMixSendEnabledWithoutMic)，删除相关代码片段即可。             |  
| 观众调用 `addLiveStreamTask` 方法添加房间推流任务，无需跟服务器进行信令交互，直接返回 30005。 | 根据返回的 30005 错误码直接判断当前角色不正确。 |  
| 关闭再开启本地视频采集后，采集的摄像头行为变更，由之前的延用上一次摄像头配置，改为默认采用[`switchCameraWithPosition`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#a2594628645064b7f87fa9da87c80778b) 接口中指定的前置摄像头或后置摄像头。|若在房间内重新开启摄像头采集，请调用 [`switchCamera`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/Latest/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#a838797a2fff34447efefc5694cacd9f4) 方法重新选择所需要的前置或后置摄像头。   |
|日志的默认存放路径变更。|Android 端的默认日志路径调整为：`sdcard/Android/data/your_app_name/files/rtc_log`。

**接口参数变更**
| 变更描述       | 集成修改建议                                                           |
|----------------|--------------------------------------------------------------------|
| 编码水印 [`setLocalVideoWatermarkConfigs`](https://doc.yunxin.163.com/nertc/api-refer/android/doxygen/V5.3.1/zh/html/classcom_1_1netease_1_1lava_1_1nertc_1_1sdk_1_1_n_e_rtc_ex.html#a1f14d1727ef2a5d00a4b1b8170a3040c)  接口中，`NERtcVideoWatermarkTextConfig` 和 `NERtcVideoWatermarkTimestampConfig` 结构体里的 `fontPath` 名字改为 `fontNameOrPath`。   | 若您使用了**编码水印**功能，请修改代码中对应的参数。             | 